<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="h4xG5XuTjoTcM8fRui_yj0Dzy2go3ZTa3RfZBGwZmBg" />
    
    <!-- Enhanced SEO Meta Tags (English) -->
    <title>Free QR Code Generator Online - Create Custom QR Codes | VIN NESIA</title>
    <meta name="description" content="Generate professional QR codes online for free. Create custom QR codes for URL, WiFi, vCard, SMS, Email, Location & more. Download as PNG/SVG. Mobile responsive design.">
    <meta name="keywords" content="qr code generator, free qr code maker, custom qr code, online qr generator, wifi qr code, vcard qr code, qr code with logo, download qr code png svg, mobile qr generator, vin nesia, pembuat kode qr gratis">
    <meta name="author" content="VIN NESIA">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <link rel="canonical" href="https://qr.vinnesia.my.id">
    
    <!-- Hreflang for Indonesian -->
    <link rel="alternate" hreflang="id" href="https://qr.vinnesia.my.id">
    <link rel="alternate" hreflang="en" href="https://qr.vinnesia.my.id">
    <link rel="alternate" hreflang="x-default" href="https://qr.vinnesia.my.id">
    
    <!-- Optimized Favicon -->
    <link rel="icon" href="favicon-v1.ico" type="image/x-icon">
    <link rel="icon" href="favicon-v1.png" type="image/png">
    <link rel="shortcut icon" href="favicon-v1.ico" type="image/x-icon">
    <link rel="apple-touch-icon" href="favicon-v1.png">
    
    <!-- Enhanced Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="VIN NESIA QR Generator">
    <meta property="og:url" content="https://qr.vinnesia.my.id">
    <meta property="og:title" content="Free QR Code Generator Online - Create Custom QR Codes | VIN NESIA">
    <meta property="og:description" content="Generate professional QR codes online for free. Create custom QR codes for URL, WiFi, vCard, SMS, Email, Location & more. Download as PNG/SVG. Mobile responsive design.">
    <meta property="og:image" content="https://www.vinnesia.my.id/og-qr-generator.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="VIN NESIA Free QR Code Generator - Create Custom QR Codes Online">
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="id_ID">

    <!-- Enhanced Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@vinnesia">
    <meta name="twitter:creator" content="@vinnesia">
    <meta name="twitter:url" content="https://qr.vinnesia.my.id">
    <meta name="twitter:title" content="Free QR Code Generator Online - Create Custom QR Codes | VIN NESIA">
    <meta name="twitter:description" content="Generate professional QR codes online for free. Create custom QR codes for URL, WiFi, vCard, SMS, Email, Location & more. Download as PNG/SVG.">
    <meta name="twitter:image" content="https://www.vinnesia.my.id/og-qr-generator.png">
    <meta name="twitter:image:alt" content="VIN NESIA Free QR Code Generator Interface">
    
    <!-- JSON-LD Schema Markup -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "VIN NESIA QR Code Generator",
      "description": "Generate professional QR codes online for free. Create custom QR codes for URL, WiFi, vCard, SMS, Email, Location & more.",
      "url": "https://qr.vinnesia.my.id",
      "applicationCategory": "UtilitiesApplication",
      "operatingSystem": "Any",
      "permissions": "browser",
      "isAccessibleForFree": true,
      "creator": {
        "@type": "Organization",
        "name": "VIN NESIA",
        "url": "https://vinnesia.my.id"
      },
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "featureList": [
        "Text/URL QR Codes",
        "WiFi QR Codes", 
        "vCard QR Codes",
        "Email QR Codes",
        "SMS QR Codes",
        "Location QR Codes",
        "Custom Colors",
        "PNG/SVG Download",
        "Mobile Responsive"
      ],
      "screenshot": "https://www.vinnesia.my.id/qr-generator-screenshot.png"
    }
    </script>

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-6MQ8QLENDT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-6MQ8QLENDT');
    </script>

    <!-- QR Code Library -->
    <script type="text/javascript" src="https://unpkg.com/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
    
    <style>
        /* CSS Custom Properties - Dark Purple Theme */
        :root {
            --primary-bg: #0a0014;
            --secondary-bg: #1a0a2e;
            --surface-bg: #16213e;
            --accent-bg: #0f3460;
            
            --primary-purple: #6a0dad;
            --secondary-purple: #8a2be2;
            --accent-purple: #9932cc;
            --light-purple: #ba55d3;
            
            --neon-purple: #b19cd9;
            --neon-cyan: #00f5ff;
            --neon-pink: #ff1493;
            
            --text-primary: #ffffff;
            --text-secondary: #e0e0e0;
            --text-muted: #b0b0b0;
            --text-accent: #dda0dd;
            
            --border-primary: #2d1b69;
            --border-secondary: #4a148c;
            --border-accent: rgba(186, 85, 211, 0.3);
            
            --shadow-purple: 0 0 20px rgba(106, 13, 173, 0.5);
            --shadow-neon: 0 0 30px rgba(177, 156, 217, 0.7);
            --shadow-glow: 0 0 40px rgba(138, 43, 226, 0.3);
            
            --gradient-primary: linear-gradient(135deg, #0a0014 0%, #1a0a2e 50%, #16213e 100%);
            --gradient-surface: linear-gradient(145deg, #16213e 0%, #0f3460 100%);
            --gradient-accent: linear-gradient(135deg, #6a0dad 0%, #8a2be2 50%, #9932cc 100%);
            --gradient-neon: linear-gradient(135deg, #b19cd9 0%, #00f5ff 100%);
            
            --animation-speed: 0.3s;
            --animation-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --animation-smooth: cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            background: var(--gradient-primary);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Animated Background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(106, 13, 173, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(138, 43, 226, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(177, 156, 217, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: -1;
            animation: backgroundPulse 10s ease-in-out infinite alternate;
        }

        @keyframes backgroundPulse {
            0% { opacity: 0.3; }
            100% { opacity: 0.7; }
        }

        /* Loading Animation */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--primary-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        .loading-overlay.hide {
            opacity: 0;
            visibility: hidden;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid transparent;
            border-top: 3px solid var(--secondary-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            box-shadow: var(--shadow-purple);
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Container */
        .container {
            width: 90%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 1rem;
        }

        /* Header Styles */
        header {
            text-align: center;
            padding: 3rem 1rem;
            border-bottom: 1px solid var(--border-primary);
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: var(--gradient-neon);
            opacity: 0.03;
            animation: headerRotate 20s linear infinite;
            pointer-events: none;
        }

        @keyframes headerRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        header h1 {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 800;
            background: var(--gradient-accent);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: var(--shadow-purple);
            animation: titleGlow 3s ease-in-out infinite alternate;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
        }

        @keyframes titleGlow {
            0% { filter: drop-shadow(0 0 10px rgba(138, 43, 226, 0.5)); }
            100% { filter: drop-shadow(0 0 20px rgba(138, 43, 226, 0.8)); }
        }

        .logo-icon {
            font-size: 0.8em;
            animation: iconFloat 2s ease-in-out infinite alternate;
        }

        @keyframes iconFloat {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-5px); }
        }

        header p {
            color: var(--text-accent);
            font-size: clamp(1rem, 2vw, 1.3rem);
            font-weight: 300;
            opacity: 0.9;
            animation: fadeInUp 1s ease-out 0.5s both;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 0.9;
                transform: translateY(0);
            }
        }

        /* Main Layout */
        main {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 3rem;
            margin-top: 3rem;
            animation: fadeIn 1s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Controls Panel */
        .controls {
            background: var(--gradient-surface);
            padding: 2.5rem;
            border-radius: 20px;
            border: 1px solid var(--border-primary);
            box-shadow: var(--shadow-glow);
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .controls::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(177, 156, 217, 0.1), transparent);
            transition: left 0.5s ease;
        }

        .controls:hover::before {
            left: 100%;
        }

        /* Tabs Grid */
        .tabs-container {
            position: relative;
            z-index: 1;
        }

        .tabs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 0.75rem;
            margin-bottom: 2rem;
            padding: 1rem;
            background: rgba(22, 33, 62, 0.3);
            border-radius: 15px;
            border: 1px solid var(--border-accent);
        }

        .tab-button {
            padding: 1rem 0.75rem;
            background: rgba(15, 52, 96, 0.5);
            border: 1px solid var(--border-secondary);
            border-radius: 12px;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 500;
            text-align: center;
            transition: all var(--animation-speed) var(--animation-smooth);
            position: relative;
            overflow: hidden;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gradient-accent);
            transition: left var(--animation-speed) ease;
            z-index: -1;
        }

        .tab-button:hover::before {
            left: 0;
        }

        .tab-button:hover {
            color: var(--text-primary);
            border-color: var(--secondary-purple);
            box-shadow: var(--shadow-purple);
            transform: translateY(-2px);
        }

        .tab-button.active {
            background: var(--gradient-accent);
            color: var(--text-primary);
            border-color: var(--light-purple);
            box-shadow: var(--shadow-neon);
            transform: scale(1.05);
        }

        .tab-button.active::before {
            left: 0;
        }

        /* Tab Content */
        .tab-content {
            display: none;
            animation: slideIn 0.5s ease-out;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Form Groups */
        .form-group {
            margin-bottom: 1.5rem;
            position: relative;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.75rem;
            font-weight: 600;
            color: var(--text-accent);
            font-size: 0.95rem;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 1rem;
            background: rgba(15, 52, 96, 0.6);
            border: 1px solid var(--border-secondary);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 1rem;
            transition: all var(--animation-speed) ease;
            backdrop-filter: blur(5px);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--secondary-purple);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.4);
            background: rgba(15, 52, 96, 0.8);
        }

        .form-group input[type="color"] {
            padding: 0.3rem;
            height: 50px;
            cursor: pointer;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 120px;
        }

        /* File Warning */
        .file-warning {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1) 0%, rgba(255, 140, 0, 0.1) 100%);
            color: var(--neon-cyan);
            padding: 1rem;
            border: 1px solid rgba(255, 215, 0, 0.3);
            border-radius: 10px;
            font-size: 0.9rem;
            margin-top: 0.75rem;
            animation: warningPulse 2s ease-in-out infinite alternate;
        }

        @keyframes warningPulse {
            0% { box-shadow: 0 0 5px rgba(255, 215, 0, 0.3); }
            100% { box-shadow: 0 0 15px rgba(255, 215, 0, 0.6); }
        }

        /* Output Panel */
        .output {
            background: var(--gradient-surface);
            padding: 2rem;
            border-radius: 20px;
            border: 1px solid var(--border-primary);
            box-shadow: var(--shadow-glow);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            min-height: 550px;
            position: sticky;
            top: 2rem;
            backdrop-filter: blur(10px);
            overflow: visible;
        }

        .output::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, rgba(177, 156, 217, 0.05) 0%, transparent 70%);
            pointer-events: none;
        }

        #qr-code-container {
            width: 350px;
            height: 350px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.98);
            border-radius: 15px;
            box-shadow: 
                0 10px 30px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.5);
            margin: 2rem auto;
            transition: all var(--animation-speed) ease;
            position: relative;
            z-index: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
        }

        #qr-code-container:hover {
            transform: scale(1.05);
            box-shadow: 
                0 15px 40px rgba(0, 0, 0, 0.4),
                0 0 30px rgba(138, 43, 226, 0.3);
        }

        #qr-code {
            width: 310px;
            height: 310px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: visible;
        }
        
        #qr-code canvas,
        #qr-code svg {
            border-radius: 8px;
            width: 310px !important;
            height: 310px !important;
            display: block !important;
        }

        /* Buttons */
        .download-buttons {
            display: flex;
            gap: 1rem;
            width: 100%;
            max-width: 300px;
            position: relative;
            z-index: 1;
        }

        .btn {
            flex: 1;
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--animation-speed) var(--animation-bounce);
            text-decoration: none;
            text-align: center;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        }

        .btn:active {
            transform: translateY(-1px);
        }

        .btn-primary {
            background: var(--gradient-accent);
            color: var(--text-primary);
            border: 1px solid var(--secondary-purple);
        }

        .btn-primary:hover {
            box-shadow: var(--shadow-purple);
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-pink) 100%);
            color: var(--primary-bg);
            border: 1px solid var(--neon-cyan);
        }

        .btn-secondary:hover {
            box-shadow: 0 0 25px rgba(0, 245, 255, 0.5);
        }

        .btn-generate {
            background: var(--gradient-accent);
            color: var(--text-primary);
            width: 100%;
            padding: 1.2rem;
            margin-top: 2rem;
            font-size: 1.1rem;
            border: 1px solid var(--secondary-purple);
        }

        .btn-generate:hover {
            box-shadow: var(--shadow-neon);
        }

        .btn-generate:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        /* Footer */
        footer {
            background: linear-gradient(135deg, #0a0014 0%, #1a0a2e 100%);
            color: var(--text-muted);
            text-align: center;
            padding: 3rem 1.5rem;
            margin-top: 4rem;
            border-top: 1px solid var(--border-primary);
            position: relative;
        }

        .footer-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .footer-links {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
            list-style: none;
        }

        .footer-links a {
            color: var(--text-muted);
            text-decoration: none;
            transition: all var(--animation-speed) ease;
            position: relative;
        }

        .footer-links a::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient-accent);
            transition: width var(--animation-speed) ease;
        }

        .footer-links a:hover {
            color: var(--text-accent);
        }

        .footer-links a:hover::after {
            width: 100%;
        }

        .copyright {
            margin-top: 1.5rem;
            font-size: 0.9rem;
            opacity: 0.7;
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 3px;
            background: var(--gradient-neon);
            transition: width 0.3s ease;
            z-index: 9998;
        }

        /* Error Messages */
        .error-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #ff4444, #cc0000);
            color: white;
            padding: 1rem 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(255, 68, 68, 0.3);
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
        }

        .success-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #00ff44, #00cc22);
            color: white;
            padding: 1rem 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 255, 68, 0.3);
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
        }

        .info-message {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--neon-cyan), var(--secondary-purple));
            color: white;
            padding: 1rem 2rem;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 245, 255, 0.3);
            z-index: 10000;
            animation: slideInRight 0.3s ease-out;
        }

        /* Loading state for generate button */
        .btn-generate.loading::after {
            content: '';
            width: 16px;
            height: 16px;
            border: 2px solid transparent;
            border-top: 2px solid white;
            border-radius: 50%;
            display: inline-block;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            main {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .output {
                position: static;
                margin-top: 0;
            }

            .tabs-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 0.5rem;
            }

            .tab-button {
                padding: 0.8rem 0.5rem;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 768px) {
            .container {
                width: 95%;
                padding: 1rem 0.5rem;
            }

            header {
                padding: 2rem 1rem;
            }

            .controls,
            .output {
                padding: 1.5rem;
                border-radius: 15px;
            }
            
            .output {
                padding: 1rem;
                min-height: 480px;
            }

            .tabs-grid {
                grid-template-columns: repeat(3, 1fr);
                gap: 0.5rem;
                padding: 0.75rem;
            }

            .tab-button {
                padding: 0.75rem 0.25rem;
                font-size: 0.75rem;
            }

            #qr-code-container {
                width: 320px;
                height: 320px;
                padding: 15px;
                margin: 1.5rem auto;
            }
            
            #qr-code {
                width: 290px;
                height: 290px;
            }
            
            #qr-code canvas,
            #qr-code svg {
                width: 290px !important;
                height: 290px !important;
            }

            .download-buttons {
                flex-direction: column;
                gap: 0.75rem;
            }

            .btn {
                padding: 1rem;
            }
        }

        @media (max-width: 480px) {
            .tabs-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .output {
                padding: 1rem;
            }

            #qr-code-container {
                width: 300px;
                height: 300px;
                padding: 15px;
                margin: 1rem auto;
            }
            
            #qr-code {
                width: 270px;
                height: 270px;
            }
            
            #qr-code canvas,
            #qr-code svg {
                width: 270px !important;
                height: 270px !important;
            }

            .form-group input,
            .form-group textarea,
            .form-group select {
                padding: 0.8rem;
            }
        }
        
        @media (max-width: 320px) {
            #qr-code-container {
                width: 280px;
                height: 280px;
                padding: 10px;
            }
            
            #qr-code {
                width: 260px;
                height: 260px;
            }
            
            #qr-code canvas,
            #qr-code svg {
                width: 260px !important;
                height: 260px !important;
            }
        }

        /* Animation States */
        .animate-in {
            animation: slideInUp 0.6s ease-out;
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100%);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        @keyframes slideOutRight {
            from {
                opacity: 1;
                transform: translateX(0);
            }
            to {
                opacity: 0;
                transform: translateX(100%);
            }
        }

        /* Accessibility Improvements */
        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        /* Focus indicators */
        .btn:focus,
        .tab-button:focus,
        input:focus,
        textarea:focus,
        select:focus {
            outline: 2px solid var(--secondary-purple);
            outline-offset: 2px;
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            :root {
                --text-primary: #ffffff;
                --text-secondary: #ffffff;
                --border-primary: #ffffff;
                --border-secondary: #ffffff;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
    </div>

    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <header style="
    text-align: center;
    padding: 3rem 1rem;
    border-bottom: 1px solid #2d1b69;
    position: relative;
    overflow: hidden;
    background: linear-gradient(135deg, #0a0014 0%, #1a0a2e 50%, #16213e 100%);
    color: #ffffff;
    min-height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
">
    <div class="header-content" style="
        position: relative;
        z-index: 1;
        max-width: 800px;
        margin: 0 auto;
    ">
        <h1 style="
            font-size: clamp(2rem, 8vw, 4rem);
            font-weight: 800;
            background: linear-gradient(135deg, #6a0dad 0%, #8a2be2 50%, #9932cc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            text-shadow: 0 0 20px rgba(138, 43, 226, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: clamp(0.5rem, 2vw, 1rem);
            flex-wrap: wrap;
            line-height: 1.2;
        ">
            <img src="logo.png" alt="VIN NESIA Logo" class="logo-icon" style="
                width: clamp(40px, 8vw, 80px);
                height: clamp(40px, 8vw, 80px);
                object-fit: contain;
                filter: drop-shadow(0 0 10px rgba(138, 43, 226, 0.6));
                border-radius: 8px;
            ">
            VIN NESIA
        </h1>
        <p style="
            color: #dda0dd;
            font-size: clamp(1rem, 3vw, 1.3rem);
            font-weight: 300;
            opacity: 0.9;
            margin: 0;
            text-shadow: 0 0 10px rgba(221, 160, 221, 0.3);
        ">Advanced QR Code Generator</p>
    </div>
</header>

    <main class="container">
        <div class="controls">
            <div class="tabs-container">
                <div class="tabs-grid">
                    <button class="tab-button active" onclick="openTab(event, 'text')" aria-label="Text or URL QR Code">📝 Text/URL</button>
                    <button class="tab-button" onclick="openTab(event, 'wifi')" aria-label="WiFi QR Code">📶 WiFi</button>
                    <button class="tab-button" onclick="openTab(event, 'vcard')" aria-label="vCard QR Code">👤 vCard</button>
                    <button class="tab-button" onclick="openTab(event, 'email')" aria-label="Email QR Code">📧 Email</button>
                    <button class="tab-button" onclick="openTab(event, 'sms')" aria-label="SMS QR Code">📱 SMS</button>
                    <button class="tab-button" onclick="openTab(event, 'geo')" aria-label="Location QR Code">📍 Location</button>
                    <button class="tab-button" onclick="openTab(event, 'file')" aria-label="File QR Code">📁 File</button>
                    <button class="tab-button" onclick="openTab(event, 'event')" aria-label="Event QR Code">🗓️ Event</button>
                    <button class="tab-button" onclick="openTab(event, 'crypto')" aria-label="Crypto QR Code">💰 Crypto</button>
                    <button class="tab-button" onclick="openTab(event, 'phone')" aria-label="Phone QR Code">☎️ Phone</button>
                    <button class="tab-button" onclick="openTab(event, 'whatsapp')" aria-label="WhatsApp QR Code">💬 WhatsApp</button>
                    <button class="tab-button" onclick="openTab(event, 'social')" aria-label="Social Media QR Code">🌐 Social</button>
                    <button class="tab-button" onclick="openTab(event, 'appstore')" aria-label="App Store QR Code">📱 App Store</button>
                    <button class="tab-button" onclick="openTab(event, 'multilang')" aria-label="Multi-Language QR Code">🌍 Multi-Lang</button>
                    <button class="tab-button" onclick="openTab(event, 'htmlcustom')" aria-label="HTML Custom QR Code">📄 HTML</button>
                </div>
            </div>

            <!-- Tab Contents -->
            <div id="text" class="tab-content active">
                <div class="form-group">
                    <label for="text-input">Your Text or URL</label>
                    <textarea id="text-input" placeholder="e.g., https://www.vinnesia.my.id" aria-describedby="text-help"></textarea>
                    <small id="text-help">Enter any text or URL to generate a QR code</small>
                </div>
            </div>

            <div id="wifi" class="tab-content">
                <div class="form-group">
                    <label for="wifi-ssid">Network Name (SSID)</label>
                    <input type="text" id="wifi-ssid" placeholder="Enter WiFi network name" required>
                </div>
                <div class="form-group">
                    <label for="wifi-password">Password</label>
                    <input type="password" id="wifi-password" placeholder="Enter WiFi password">
                </div>
                <div class="form-group">
                    <label for="wifi-security">Security Type</label>
                    <select id="wifi-security">
                        <option value="WPA">WPA/WPA2</option>
                        <option value="WEP">WEP</option>
                        <option value="nopass">None (Open)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="wifi-hidden"> Hidden Network
                    </label>
                </div>
            </div>

            <div id="vcard" class="tab-content">
                <div class="form-group">
                    <label for="vcard-name">Full Name</label>
                    <input type="text" id="vcard-name" placeholder="John Doe" required>
                </div>
                <div class="form-group">
                    <label for="vcard-org">Organization</label>
                    <input type="text" id="vcard-org" placeholder="Company Name">
                </div>
                <div class="form-group">
                    <label for="vcard-phone">Phone</label>
                    <input type="tel" id="vcard-phone" placeholder="+1234567890">
                </div>
                <div class="form-group">
                    <label for="vcard-email">Email</label>
                    <input type="email" id="vcard-email" placeholder="john@example.com">
                </div>
                <div class="form-group">
                    <label for="vcard-url">Website</label>
                    <input type="url" id="vcard-url" placeholder="https://example.com">
                </div>
                <div class="form-group">
                    <label for="vcard-address">Address</label>
                    <textarea id="vcard-address" placeholder="123 Main St, City, State, ZIP"></textarea>
                </div>
            </div>

            <div id="email" class="tab-content">
                <div class="form-group">
                    <label for="email-to">To Email</label>
                    <input type="email" id="email-to" placeholder="recipient@example.com" required>
                </div>
                <div class="form-group">
                    <label for="email-subject">Subject</label>
                    <input type="text" id="email-subject" placeholder="Email subject">
                </div>
                <div class="form-group">
                    <label for="email-body">Message</label>
                    <textarea id="email-body" placeholder="Email message body"></textarea>
                </div>
            </div>

            <div id="sms" class="tab-content">
                <div class="form-group">
                    <label for="sms-number">Phone Number</label>
                    <input type="tel" id="sms-number" placeholder="+1234567890" required>
                </div>
                <div class="form-group">
                    <label for="sms-message">Message</label>
                    <textarea id="sms-message" placeholder="SMS message content"></textarea>
                </div>
            </div>

            <div id="geo" class="tab-content">
                <div class="form-group">
                    <label for="geo-lat">Latitude</label>
                    <input type="number" id="geo-lat" step="any" placeholder="40.7128" required>
                </div>
                <div class="form-group">
                    <label for="geo-lng">Longitude</label>
                    <input type="number" id="geo-lng" step="any" placeholder="-74.0060" required>
                </div>
                <div class="form-group">
                    <label for="geo-query">Location Name (Optional)</label>
                    <input type="text" id="geo-query" placeholder="New York City">
                </div>
            </div>

            <div id="file" class="tab-content">
                <div class="form-group">
                    <label for="file-input">Select File</label>
                    <input type="file" id="file-input" accept="image/*,application/pdf,.txt,.doc,.docx">
                </div>
                <div class="file-warning">
                    ⚠️ Files will be converted to Base64 data URLs. Large files may create complex QR codes that are difficult to scan.
                </div>
            </div>

            <div id="event" class="tab-content">
                <div class="form-group">
                    <label for="event-title">Event Title</label>
                    <input type="text" id="event-title" placeholder="Meeting Title" required>
                </div>
                <div class="form-group">
                    <label for="event-start">Start Date & Time</label>
                    <input type="datetime-local" id="event-start" required>
                </div>
                <div class="form-group">
                    <label for="event-end">End Date & Time</label>
                    <input type="datetime-local" id="event-end">
                </div>
                <div class="form-group">
                    <label for="event-location">Location</label>
                    <input type="text" id="event-location" placeholder="Conference Room A">
                </div>
                <div class="form-group">
                    <label for="event-description">Description</label>
                    <textarea id="event-description" placeholder="Event description"></textarea>
                </div>
            </div>

            <div id="crypto" class="tab-content">
                <div class="form-group">
                    <label for="crypto-type">Cryptocurrency</label>
                    <select id="crypto-type">
                        <option value="bitcoin">Bitcoin (BTC)</option>
                        <option value="ethereum">Ethereum (ETH)</option>
                        <option value="litecoin">Litecoin (LTC)</option>
                        <option value="dogecoin">Dogecoin (DOGE)</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="crypto-address">Wallet Address</label>
                    <input type="text" id="crypto-address" placeholder="Enter wallet address" required>
                </div>
                <div class="form-group">
                    <label for="crypto-amount">Amount (Optional)</label>
                    <input type="number" id="crypto-amount" step="any" placeholder="0.001">
                </div>
                <div class="form-group">
                    <label for="crypto-message">Message (Optional)</label>
                    <input type="text" id="crypto-message" placeholder="Payment message">
                </div>
            </div>

            <div id="phone" class="tab-content">
                <div class="form-group">
                    <label for="phone-number">Phone Number</label>
                    <input type="tel" id="phone-number" placeholder="+1234567890" required>
                </div>
            </div>

            <div id="whatsapp" class="tab-content">
                <div class="form-group">
                    <label for="whatsapp-number">WhatsApp Number</label>
                    <input type="tel" id="whatsapp-number" placeholder="+1234567890" required>
                </div>
                <div class="form-group">
                    <label for="whatsapp-message">Pre-filled Message</label>
                    <textarea id="whatsapp-message" placeholder="Hello! I found your contact through QR code."></textarea>
                </div>
            </div>

            <div id="social" class="tab-content">
                <div class="form-group">
                    <label for="social-platform">Platform</label>
                    <select id="social-platform">
                        <option value="facebook">Facebook</option>
                        <option value="twitter">Twitter</option>
                        <option value="instagram">Instagram</option>
                        <option value="linkedin">LinkedIn</option>
                        <option value="youtube">YouTube</option>
                        <option value="tiktok">TikTok</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="social-username">Username/Profile URL</label>
                    <input type="text" id="social-username" placeholder="username or full URL" required>
                </div>
            </div>

            <div id="appstore" class="tab-content">
                <div class="form-group">
                    <label for="app-platform">Platform</label>
                    <select id="app-platform">
                        <option value="android">Google Play Store</option>
                        <option value="ios">Apple App Store</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="app-id">App ID/Package Name</label>
                    <input type="text" id="app-id" placeholder="com.example.app or app-id" required>
                </div>
            </div>

            <div id="multilang" class="tab-content">
                <div class="form-group">
                    <label for="multilang-en">English Text</label>
                    <textarea id="multilang-en" placeholder="English content"></textarea>
                </div>
                <div class="form-group">
                    <label for="multilang-id">Indonesian Text</label>
                    <textarea id="multilang-id" placeholder="Konten bahasa Indonesia"></textarea>
                </div>
                <div class="form-group">
                    <label for="multilang-other">Other Language</label>
                    <textarea id="multilang-other" placeholder="Other language content"></textarea>
                </div>
            </div>

            <div id="htmlcustom" class="tab-content">
                <div class="form-group">
                    <label for="html-content">Custom HTML Content</label>
                    <textarea id="html-content" placeholder="<h1>Custom HTML</h1><p>Your content here</p>"></textarea>
                </div>
                <div class="file-warning">
                    💡 Create custom HTML content that will be converted to a data URL for QR code generation.
                </div>
            </div>

            <!-- Style Customization -->
            <div class="form-group">
                <label for="qr-size">QR Code Size</label>
                <select id="qr-size">
                    <option value="300">300x300</option>
                    <option value="400" selected>400x400</option>
                    <option value="500">500x500</option>
                    <option value="600">600x600</option>
                    <option value="800">800x800</option>
                </select>
            </div>

            <div class="form-group">
                <label for="dot-style">🎨 Dot Style</label>
                <select id="dot-style">
                    <option value="rounded" selected>🔴 Rounded</option>
                    <option value="square">⬛ Square</option>
                    <option value="dots">⚫ Dots</option>
                    <option value="classy">💎 Classy</option>
                    <option value="classy-rounded">✨ Classy Rounded</option>
                    <option value="extra-rounded">🌟 Extra Rounded</option>
                </select>
            </div>

            <div class="form-group">
                <label for="corner-style">🏢 Corner Square Style</label>
                <select id="corner-style">
                    <option value="square">⬛ Square</option>
                    <option value="extra-rounded" selected>🔲 Extra Rounded</option>
                    <option value="dot">⚫ Dot</option>
                </select>
            </div>

            <div class="form-group">
                <label for="corner-dot-style">⚫ Corner Dot Style</label>
                <select id="corner-dot-style">
                    <option value="square">⬛ Square</option>
                    <option value="dot" selected>⚫ Dot</option>
                </select>
            </div>

            <div class="form-group">
                <label for="qr-color">🎨 Foreground Color</label>
                <input type="color" id="qr-color" value="#000000">
            </div>

            <div class="form-group">
                <label for="qr-bg-color">🎨 Background Color</label>
                <input type="color" id="qr-bg-color" value="#ffffff">
            </div>

            <div class="form-group">
                <label for="logo-upload">🖼️ Upload Logo (Optional)</label>
                <input type="file" id="logo-upload" accept="image/*" aria-describedby="logo-help">
                <div id="logo-help" class="file-warning">
                    💡 Upload PNG, JPG, or SVG logo. Recommended size: 100x100px for best results.
                </div>
            </div>

            <div class="form-group">
                <label for="logo-size">📏 Logo Size</label>
                <select id="logo-size">
                    <option value="0.1">Small (10%)</option>
                    <option value="0.15" selected>Medium (15%)</option>
                    <option value="0.2">Large (20%)</option>
                    <option value="0.25">Extra Large (25%)</option>
                </select>
            </div>

            <button class="btn btn-generate" onclick="generateQRCode()" aria-label="Generate QR Code" id="generateBtn">
                🎯 Generate QR Code
            </button>
        </div>

        <div class="output">
            <div id="qr-code-container">
                <div id="qr-code"></div>
            </div>

            <div class="download-buttons">
                <button class="btn btn-primary" onclick="downloadQR('png')" aria-label="Download as PNG">
                    📥 PNG
                </button>
                <button class="btn btn-secondary" onclick="downloadQR('svg')" aria-label="Download as SVG">
                    📄 SVG
                </button>
            </div>
        </div>
    </main>

    <footer>
        <div class="footer-content">
            <ul class="footer-links">
                <li><a href="Privacy-Policy" aria-label="Privacy Policy">Privacy Policy</a></li>
                <li><a href="Terms-of-Service" aria-label="Terms of Service">Terms of Service</a></li>
                <li><a href="About" aria-label="About Us">About</a></li>
                <li><a href="Contact" aria-label="Contact Us">Contact</a></li>
                <li><a href="Help" aria-label="Help">Help</a></li>
            </ul>
            <div class="copyright">
                © 2025 VIN NESIA. All rights reserved. Advanced QR Code Generator.
            </div>
        </div>
    </footer>

    <script>
        // Performance optimization variables
        let qrCode = null;
        let debounceTimer = null;
        let isGenerating = false;
        let pendingFileData = null;

        // Initialize application
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loading overlay with animation
            setTimeout(() => {
                const loadingOverlay = document.getElementById('loadingOverlay');
                loadingOverlay.classList.add('hide');
                
                // Add entrance animations
                document.querySelector('header').classList.add('animate-in');
                document.querySelector('main').classList.add('animate-in');
            }, 800);

            // Initialize QR code
            initializeQRCode();
            
            // Add event listeners for auto-generation
            addAutoGenerationListeners();
            
            // Initialize progress bar
            updateProgressBar();
            
            // Generate initial QR code
            setTimeout(() => {
                generateQRCode();
            }, 100);
        });

        // Initialize QR Code styling
        function initializeQRCode() {
            const size = 310; // Fixed size for consistency
            
            qrCode = new QRCodeStyling({
                width: size,
                height: size,
                type: "canvas",
                data: "https://qr.vinnesia.my.id",
                image: "",
                dotsOptions: {
                    color: "#000000",
                    type: "rounded"
                },
                backgroundOptions: {
                    color: "#ffffff",
                },
                imageOptions: {
                    hideBackgroundDots: true,
                    imageSize: 0.15,
                    crossOrigin: "anonymous",
                    margin: 5
                },
                cornersSquareOptions: {
                    type: "extra-rounded",
                    color: "#000000"
                },
                cornersDotOptions: {
                    type: "dot",
                    color: "#000000"
                },
                qrOptions: {
                    typeNumber: 0,
                    mode: 'Byte',
                    errorCorrectionLevel: 'H'
                }
            });
        }

        // Add auto-generation listeners with improved debouncing
        function addAutoGenerationListeners() {
            const inputs = document.querySelectorAll('input, textarea, select');
            
            inputs.forEach(input => {
                // Use different debounce times for different input types
                const debounceTime = input.type === 'file' ? 100 : 750;
                
                input.addEventListener('input', () => debounceGenerate(debounceTime));
                input.addEventListener('change', () => debounceGenerate(debounceTime));
            });
        }

        // Improved debounced generation with variable timing
        function debounceGenerate(delay = 750) {
            clearTimeout(debounceTimer);
            debounceTimer = setTimeout(() => {
                if (!isGenerating) {
                    generateQRCode();
                }
            }, delay);
        }

        // Tab switching with smooth animation
        function openTab(evt, tabName) {
            const tabcontents = document.getElementsByClassName("tab-content");
            const tabbuttons = document.getElementsByClassName("tab-button");
            
            // Hide all tab contents
            for (let i = 0; i < tabcontents.length; i++) {
                tabcontents[i].classList.remove("active");
            }
            
            // Remove active class from all tab buttons
            for (let i = 0; i < tabbuttons.length; i++) {
                tabbuttons[i].classList.remove("active");
            }
            
            // Show selected tab content and mark button as active
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            
            // Clear pending file data when switching tabs
            if (tabName !== 'file') {
                pendingFileData = null;
            }
            
            // Generate QR code for new tab with reduced delay
            debounceGenerate(300);
            
            // Update progress
            updateProgressBar(10);
        }

        // Enhanced Generate QR Code with comprehensive error handling
        async function generateQRCode() {
            if (isGenerating) return;
            
            const generateBtn = document.getElementById('generateBtn');
            
            try {
                isGenerating = true;
                generateBtn.classList.add('loading');
                generateBtn.disabled = true;
                updateProgressBar(20);
                
                const activeTab = document.querySelector('.tab-content.active').id;
                let qrData;
                
                // Handle file tab specially due to async nature
                if (activeTab === 'file') {
                    qrData = await getQRDataAsync(activeTab);
                } else {
                    qrData = getQRData(activeTab);
                }
                
                if (!qrData) {
                    showInfo('Please fill in required fields to generate QR code');
                    return;
                }
                
                updateProgressBar(50);
                
                // Get styling options
                const fgColor = document.getElementById('qr-color').value || "#000000";
                const bgColor = document.getElementById('qr-bg-color').value || "#ffffff";
                const dotStyle = document.getElementById('dot-style').value || "rounded";
                const cornerStyle = document.getElementById('corner-style').value || "extra-rounded";
                const cornerDotStyle = document.getElementById('corner-dot-style').value || "dot";
                const logoFile = document.getElementById('logo-upload').files[0];
                const logoSize = parseFloat(document.getElementById('logo-size').value) || 0.15;
                
                updateProgressBar(70);
                
                // Handle logo upload
                let logoDataUrl = "";
                if (logoFile) {
                    try {
                        logoDataUrl = await readFileAsDataURL(logoFile);
                    } catch (error) {
                        showError('Failed to process logo file');
                        console.error('Logo processing error:', error);
                    }
                }
                
                updateProgressBar(85);
                
                // Update QR code with all options
                await updateQRCodeDisplay(qrData, fgColor, bgColor, dotStyle, cornerStyle, cornerDotStyle, logoDataUrl, logoSize);
                
                updateProgressBar(100);
                showSuccess('QR Code generated successfully!');
                
            } catch (error) {
                console.error('Error generating QR code:', error);
                showError('Failed to generate QR code. Please check your input and try again.');
            } finally {
                isGenerating = false;
                generateBtn.classList.remove('loading');
                generateBtn.disabled = false;
                setTimeout(() => updateProgressBar(0), 1000);
            }
        }

        // Enhanced QR data retrieval with async support
        async function getQRDataAsync(tabName) {
            if (tabName === 'file') {
                const fileInput = document.getElementById('file-input');
                if (fileInput.files && fileInput.files[0]) {
                    const file = fileInput.files[0];
                    
                    // Validate file
                    if (!validateFile(file)) {
                        return null;
                    }
                    
                    try {
                        // Use cached data if available
                        if (pendingFileData) {
                            return pendingFileData;
                        }
                        
                        const dataUrl = await readFileAsDataURL(file);
                        pendingFileData = dataUrl; // Cache the result
                        return dataUrl;
                    } catch (error) {
                        showError('Failed to process file');
                        return null;
                    }
                }
                return null;
            }
            
            return getQRData(tabName);
        }

        // Synchronous QR data retrieval (fixed Promise issue)
        function getQRData(tabName) {
            try {
                switch(tabName) {
                    case 'text':
                        return document.getElementById('text-input').value || 'https://qr.vinnesia.my.id';
                    
                    case 'wifi':
                        const ssid = document.getElementById('wifi-ssid').value;
                        const password = document.getElementById('wifi-password').value;
                        const security = document.getElementById('wifi-security').value;
                        const hidden = document.getElementById('wifi-hidden').checked;
                        
                        if (!ssid) return null;
                        
                        return `WIFI:T:${security};S:${ssid};P:${password};H:${hidden ? 'true' : 'false'};;`;
                    
                    case 'vcard':
                        const name = document.getElementById('vcard-name').value;
                        const org = document.getElementById('vcard-org').value;
                        const phone = document.getElementById('vcard-phone').value;
                        const email = document.getElementById('vcard-email').value;
                        const url = document.getElementById('vcard-url').value;
                        const address = document.getElementById('vcard-address').value;
                        
                        if (!name) return null;
                        
                        return `BEGIN:VCARD\nVERSION:3.0\nFN:${name}\nORG:${org}\nTEL:${phone}\nEMAIL:${email}\nURL:${url}\nADR:${address}\nEND:VCARD`;
                    
                    case 'email':
                        const emailTo = document.getElementById('email-to').value;
                        const subject = document.getElementById('email-subject').value;
                        const body = document.getElementById('email-body').value;
                        
                        if (!emailTo) return null;
                        
                        return `mailto:${emailTo}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;
                    
                    case 'sms':
                        const smsNumber = document.getElementById('sms-number').value;
                        const smsMessage = document.getElementById('sms-message').value;
                        
                        if (!smsNumber) return null;
                        
                        return `sms:${smsNumber}?body=${encodeURIComponent(smsMessage)}`;
                    
                    case 'geo':
                        const lat = document.getElementById('geo-lat').value;
                        const lng = document.getElementById('geo-lng').value;
                        const query = document.getElementById('geo-query').value;
                        
                        if (!lat || !lng) return null;
                        
                        return query ? `geo:${lat},${lng}?q=${encodeURIComponent(query)}` : `geo:${lat},${lng}`;
                    
                    case 'event':
                        const title = document.getElementById('event-title').value;
                        const startDate = document.getElementById('event-start').value;
                        const endDate = document.getElementById('event-end').value;
                        const location = document.getElementById('event-location').value;
                        const description = document.getElementById('event-description').value;
                        
                        if (!title || !startDate) return null;
                        
                        const formatDate = (dateStr) => {
                            return new Date(dateStr).toISOString().replace(/[-:]/g, '').split('.')[0] + 'Z';
                        };
                        
                        const startFormatted = formatDate(startDate);
                        const endFormatted = endDate ? formatDate(endDate) : startFormatted;
                        
                        return `BEGIN:VEVENT\nSUMMARY:${title}\nDTSTART:${startFormatted}\nDTEND:${endFormatted}\nLOCATION:${location}\nDESCRIPTION:${description}\nEND:VEVENT`;
                    
                    case 'crypto':
                        const cryptoType = document.getElementById('crypto-type').value;
                        const cryptoAddress = document.getElementById('crypto-address').value;
                        const amount = document.getElementById('crypto-amount').value;
                        const message = document.getElementById('crypto-message').value;
                        
                        if (!cryptoAddress) return null;
                        
                        let uri = `${cryptoType}:${cryptoAddress}`;
                        const params = [];
                        if (amount) params.push(`amount=${amount}`);
                        if (message) params.push(`message=${encodeURIComponent(message)}`);
                        if (params.length > 0) uri += `?${params.join('&')}`;
                        
                        return uri;
                    
                    case 'phone':
                        const phoneNumber = document.getElementById('phone-number').value;
                        return phoneNumber ? `tel:${phoneNumber}` : null;
                    
                    case 'whatsapp':
                        const waNumber = document.getElementById('whatsapp-number').value;
                        const waMessage = document.getElementById('whatsapp-message').value;
                        
                        if (!waNumber) return null;
                        
                        const cleanNumber = waNumber.replace(/[^\d]/g, '');
                        return `https://wa.me/${cleanNumber}${waMessage ? `?text=${encodeURIComponent(waMessage)}` : ''}`;
                    
                    case 'social':
                        const platform = document.getElementById('social-platform').value;
                        const username = document.getElementById('social-username').value;
                        
                        if (!username) return null;
                        
                        const socialUrls = {
                            facebook: 'https://facebook.com/',
                            twitter: 'https://twitter.com/',
                            instagram: 'https://instagram.com/',
                            linkedin: 'https://linkedin.com/in/',
                            youtube: 'https://youtube.com/c/',
                            tiktok: 'https://tiktok.com/@'
                        };
                        
                        return username.startsWith('http') ? username : socialUrls[platform] + username;
                    
                    case 'appstore':
                        const appPlatform = document.getElementById('app-platform').value;
                        const appId = document.getElementById('app-id').value;
                        
                        if (!appId) return null;
                        
                        return appPlatform === 'android' 
                            ? `https://play.google.com/store/apps/details?id=${appId}`
                            : `https://apps.apple.com/app/id${appId}`;
                    
                    case 'multilang':
                        const enText = document.getElementById('multilang-en').value;
                        const idText = document.getElementById('multilang-id').value;
                        const otherText = document.getElementById('multilang-other').value;
                        
                        const multiContent = [];
                        if (enText) multiContent.push(`EN: ${enText}`);
                        if (idText) multiContent.push(`ID: ${idText}`);
                        if (otherText) multiContent.push(`OTHER: ${otherText}`);
                        
                        return multiContent.length > 0 ? multiContent.join('\n\n') : null;
                    
                    case 'htmlcustom':
                        const htmlContent = document.getElementById('html-content').value;
                        return htmlContent ? `data:text/html;charset=utf-8,${encodeURIComponent(htmlContent)}` : null;
                    
                    default:
                        return 'https://qr.vinnesia.my.id';
                }
            } catch (error) {
                console.error('Error getting QR data:', error);
                showError('Error processing form data');
                return null;
            }
        }

        // Unified QR code display update function
        async function updateQRCodeDisplay(qrData, fgColor, bgColor, dotStyle, cornerStyle, cornerDotStyle, logoDataUrl, logoSize) {
            return new Promise((resolve, reject) => {
                try {
                    qrCode.update({
                        width: 310,
                        height: 310,
                        data: qrData,
                        type: "canvas",
                        image: logoDataUrl,
                        dotsOptions: {
                            color: fgColor,
                            type: dotStyle
                        },
                        backgroundOptions: {
                            color: bgColor
                        },
                        imageOptions: {
                            hideBackgroundDots: true,
                            imageSize: logoSize,
                            crossOrigin: "anonymous",
                            margin: 5
                        },
                        cornersSquareOptions: {
                            type: cornerStyle,
                            color: fgColor
                        },
                        cornersDotOptions: {
                            type: cornerDotStyle,
                            color: fgColor
                        },
                        qrOptions: {
                            typeNumber: 0,
                            mode: 'Byte',
                            errorCorrectionLevel: 'H'
                        }
                    });
                    
                    // Clear previous QR code
                    const qrContainer = document.getElementById("qr-code");
                    qrContainer.innerHTML = '';
                    
                    // Append new QR code
                    qrCode.append(qrContainer);
                    
                    // Force proper sizing and apply animations
                    setTimeout(() => {
                        const qrElement = qrContainer.querySelector('canvas');
                        if (qrElement) {
                            qrElement.style.width = '310px';
                            qrElement.style.height = '310px';
                            qrElement.style.display = 'block';
                            qrElement.style.border = 'none';
                            qrElement.style.borderRadius = '8px';
                        }
                        
                        // Trigger animation
                        const container = document.getElementById('qr-code-container');
                        container.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            container.style.transform = 'scale(1)';
                            resolve();
                        }, 150);
                    }, 100);
                    
                } catch (error) {
                    console.error('Error updating QR display:', error);
                    reject(error);
                }
            });
        }

        // File validation function
        function validateFile(file) {
            const maxSize = 5 * 1024 * 1024; // 5MB
            const allowedTypes = [
                'image/png', 'image/jpeg', 'image/jpg', 'image/gif', 'image/svg+xml',
                'application/pdf', 'text/plain', 'application/msword',
                'application/vnd.openxmlformats-officedocument.wordprocessingml.document'
            ];
            
            if (file.size > maxSize) {
                showError('File size too large. Please choose a file smaller than 5MB.');
                return false;
            }
            
            if (!allowedTypes.includes(file.type)) {
                showError('File type not supported. Please choose an image, PDF, or text file.');
                return false;
            }
            
            return true;
        }

        // Enhanced file reader with error handling
        function readFileAsDataURL(file) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = (e) => resolve(e.target.result);
                reader.onerror = (e) => reject(new Error('Failed to read file'));
                reader.readAsDataURL(file);
            });
        }

        // Enhanced Download QR Code with better error handling
        function downloadQR(format) {
            if (!qrCode) {
                showError('Please generate a QR code first');
                return;
            }
            
            try {
                const button = event.target;
                const originalText = button.textContent;
                
                button.disabled = true;
                button.textContent = '⏳ Downloading...';
                
                if (format === 'png') {
                    qrCode.download({ name: "qr-code-vinnesia", extension: "png" });
                } else if (format === 'svg') {
                    qrCode.download({ name: "qr-code-vinnesia", extension: "svg" });
                }
                
                // Success feedback
                setTimeout(() => {
                    button.textContent = '✅ Downloaded!';
                    button.style.transform = 'scale(0.95)';
                    
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.style.transform = 'scale(1)';
                        button.disabled = false;
                    }, 2000);
                }, 500);
                
            } catch (error) {
                console.error('Download error:', error);
                showError('Failed to download QR code. Please try again.');
                
                // Reset button on error
                if (event && event.target) {
                    event.target.disabled = false;
                }
            }
        }

        // Enhanced progress bar with smoother transitions
        function updateProgressBar(progress = 0) {
            const progressBar = document.getElementById('progressBar');
            if (progressBar) {
                progressBar.style.width = `${Math.min(progress, 100)}%`;
                
                if (progress === 0) {
                    setTimeout(() => {
                        progressBar.style.width = '0%';
                    }, 500);
                }
            }
        }

        // Enhanced message system with different types
        function showMessage(message, type = 'info', duration = 4000) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `${type}-message`;
            messageDiv.textContent = message;
            
            document.body.appendChild(messageDiv);
            
            // Auto-remove message
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.style.animation = 'slideOutRight 0.3s ease-out forwards';
                    setTimeout(() => {
                        if (messageDiv.parentNode) {
                            messageDiv.remove();
                        }
                    }, 300);
                }
            }, duration);
            
            return messageDiv;
        }

        function showError(message) {
            return showMessage(message, 'error', 5000);
        }

        function showSuccess(message) {
            return showMessage(message, 'success', 3000);
        }

        function showInfo(message) {
            return showMessage(message, 'info', 3000);
        }

        // Enhanced file input handling with validation
        document.getElementById('file-input').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                if (!validateFile(file)) {
                    e.target.value = '';
                    pendingFileData = null;
                    return;
                }
                
                // Clear cached data and trigger generation
                pendingFileData = null;
                showInfo(`File selected: ${file.name}`);
                debounceGenerate(100); // Quick generation for file changes
            } else {
                pendingFileData = null;
            }
        });

        // Enhanced logo upload handling with comprehensive validation
        document.getElementById('logo-upload').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                // Validate file type for logos
                const validTypes = ['image/png', 'image/jpeg', 'image/jpg', 'image/svg+xml'];
                if (!validTypes.includes(file.type)) {
                    showError('Please upload a valid image file for logo (PNG, JPG, or SVG).');
                    e.target.value = '';
                    return;
                }
                
                // Validate file size (2MB max for logos)
                const maxSize = 2 * 1024 * 1024;
                if (file.size > maxSize) {
                    showError('Logo file size too large. Please choose an image smaller than 2MB.');
                    e.target.value = '';
                    return;
                }
                
                // Show success message
                showSuccess(`Logo uploaded: ${file.name}`);
                
                // Auto-generate QR code with new logo
                debounceGenerate(200);
            }
        });

        // Keyboard shortcuts for better UX
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                e.preventDefault();
                generateQRCode();
            }
            
            if (e.key === 'Escape') {
                // Clear any active file selections
                const fileInput = document.getElementById('file-input');
                const logoInput = document.getElementById('logo-upload');
                
                if (fileInput.value) {
                    fileInput.value = '';
                    pendingFileData = null;
                    debounceGenerate(100);
                }
            }
        });

        // Performance monitoring and optimization
        if ('performance' in window) {
            window.addEventListener('load', function() {
                setTimeout(() => {
                    const perfData = performance.getEntriesByType('navigation')[0];
                    if (perfData) {
                        const loadTime = perfData.loadEventEnd - perfData.loadEventStart;
                        console.log(`Page Load Time: ${loadTime}ms`);
                        
                        // Show warning if load time is too high
                        if (loadTime > 3000) {
                            console.warn('Slow page load detected. Consider optimizing assets.');
                        }
                    }
                }, 100);
            });
        }

        // Enhanced error boundary for JavaScript errors
        window.addEventListener('error', function(e) {
            console.error('Global error caught:', e.error);
            showError('An unexpected error occurred. Please refresh the page and try again.');
        });

        // Unhandled promise rejection handler
        window.addEventListener('unhandledrejection', function(e) {
            console.error('Unhandled promise rejection:', e.reason);
            showError('An error occurred while processing your request. Please try again.');
        });
    </script>
</body>
</html>
